{
  "name": "ci-time-tracking",
  "event": "post-tool-use",
  "description": "Tracks and reports CI/CD pipeline duration trends",
  "enabled": true,
  "prompt": "After CI/CD pipeline execution, track duration and detect regressions:\n\n**Track These Metrics:**\n- Total pipeline duration\n- Individual step durations\n- Queue time\n- Resource usage\n- Success/failure rate\n\n**Store Historical Data:**\n- Last 30 days of runs\n- Trend analysis\n- Identify regressions\n\n**If Slowdown Detected:**\n\n```\nğŸ“ˆ CI/CD PERFORMANCE REGRESSION\n\nCurrent Run: 15m 42s\nBaseline (30-day avg): 8m 23s\nRegression: +87% slower âš ï¸\n\nStep-by-Step Breakdown:\n\nStep                  Current    Baseline   Change\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nCheckout              0:45       0:42       +7%\nDependencies          2:15       1:30       +50% âš ï¸\nBuild                 6:30       3:45       +73% ğŸš¨\nLint                  1:20       1:15       +7%\nUnit Tests            2:45       2:30       +10%\nIntegration Tests     4:20       4:10       +4%\nDeploy                0:47       0:41       +15%\n\nRoot Causes Identified:\n\n1. Build Step Regression (6:30 vs 3:45)\n   Possible causes:\n   â€¢ New dependencies added\n   â€¢ Missing build cache\n   â€¢ Increased code complexity\n   â€¢ Resource contention\n\n2. Dependencies Install Slow (2:15 vs 1:30)\n   Possible causes:\n   â€¢ Cache miss\n   â€¢ New packages added\n   â€¢ Network issues\n   â€¢ Registry slowdown\n\nRecent Changes:\nâ€¢ Commit abc123: Added 3 new npm packages\nâ€¢ Commit def456: Refactored build config\nâ€¢ PR #234: Large code changes (+ 2,500 lines)\n\nRecommendations:\n\n1. Immediate:\n   â€¢ Check build cache configuration\n   â€¢ Verify dependency cache working\n   â€¢ Review recent dependency additions\n\n2. Short-term:\n   â€¢ Enable layer caching for Docker\n   â€¢ Parallelize independent steps\n   â€¢ Use faster runners (ARM or spot)\n\n3. Long-term:\n   â€¢ Set up build performance monitoring\n   â€¢ Add pipeline optimization alerts\n   â€¢ Regular performance audits\n\nPotential Savings:\nâ€¢ Restore to baseline: Save 7m 19s per run\nâ€¢ 20 runs/day: Save 2h 26m daily\nâ€¢ Monthly: Save 73 hours of CI time\n\nCost Impact:\nâ€¢ Current: ~$800/month\nâ€¢ Baseline: ~$450/month\nâ€¢ Potential savings: $350/month\n\nActions:\n1. Investigate build step slowdown\n2. Review dependency changes\n3. Check cache configuration\n4. Consider pipeline optimization sprint\n\nView detailed analysis? (yes/no)\nCreate optimization ticket? (yes/no)\n```"
}
