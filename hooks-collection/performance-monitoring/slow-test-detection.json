{
  "name": "slow-test-detection",
  "event": "post-tool-use",
  "description": "Detects and reports slow tests that impact CI/CD",
  "enabled": true,
  "prompt": "After test execution, analyze test duration and identify slow tests:\n\n**Thresholds:**\n- Unit test: >100ms per test\n- Integration test: >1s per test\n- E2E test: >10s per test\n\n**If Slow Tests Detected:**\n\n```\nüêå SLOW TESTS DETECTED\n\nTest Suite Performance:\n‚Ä¢ Total duration: 2m 34s\n‚Ä¢ Tests run: 456\n‚Ä¢ Average: 340ms per test\n\nSlowest Tests:\n\n1. UserService integration tests: 12.4s ‚ùå\n   ‚Ä¢ database setup: 8.2s\n   ‚Ä¢ teardown: 3.1s\n   ‚Ä¢ actual tests: 1.1s\n\n2. Payment processing E2E: 8.7s ‚ö†Ô∏è\n   ‚Ä¢ external API calls: 6.2s\n   ‚Ä¢ validation: 2.5s\n\n3. File upload unit test: 450ms ‚ö†Ô∏è\n   ‚Ä¢ mock file generation: 380ms\n   ‚Ä¢ test logic: 70ms\n\nRecommendations:\n\n1. Database Tests:\n   ‚Ä¢ Use in-memory database for tests\n   ‚Ä¢ Share database connection\n   ‚Ä¢ Transaction rollback instead of cleanup\n\n2. External APIs:\n   ‚Ä¢ Mock external services\n   ‚Ä¢ Use VCR/nock for recordings\n   ‚Ä¢ Avoid real HTTP calls in tests\n\n3. File Operations:\n   ‚Ä¢ Mock filesystem\n   ‚Ä¢ Use memory streams\n   ‚Ä¢ Generate smaller test data\n\n4. General:\n   ‚Ä¢ Run slow tests separately\n   ‚Ä¢ Parallel test execution\n   ‚Ä¢ Test-specific optimization\n\nEstimated CI Time Savings:\n‚Ä¢ Current: 2m 34s\n‚Ä¢ Optimized: 45s (71% faster)\n\nWould you like to:\n1. Mark slow tests for optimization\n2. See detailed test timing\n3. Generate optimization guide\n```"
}
