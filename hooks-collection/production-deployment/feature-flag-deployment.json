{
  "name": "feature-flag-deployment",
  "event": "user-prompt-submit",
  "description": "Ensures new features are deployed behind feature flags",
  "enabled": true,
  "prompt": "When deploying code with new features:\n\n**Detect Feature Changes:**\n- New routes/endpoints\n- New UI components\n- New database tables\n- Significant logic changes\n\n**Feature Flag Check:**\n\n```\nüö© NEW FEATURE DEPLOYMENT\n\nFeature: [feature-name]\nType: [backend/frontend/full-stack]\n\n‚ö†Ô∏è  FEATURE FLAG RECOMMENDATION\n\nWhy use feature flags:\n‚Ä¢ Safe gradual rollout\n‚Ä¢ Easy rollback without redeployment\n‚Ä¢ A/B testing capability\n‚Ä¢ User targeting\n‚Ä¢ Kill switch if issues arise\n\nFeature Flag Checklist:\n\n[ ] Feature flag created?\n    Flag name: [name]\n    Default: OFF\n\n[ ] Targeting configured?\n    ‚Ä¢ Internal users first?\n    ‚Ä¢ Beta users?\n    ‚Ä¢ Percentage rollout?\n\n[ ] Monitoring setup?\n    ‚Ä¢ Feature usage metrics\n    ‚Ä¢ Error tracking\n    ‚Ä¢ Performance impact\n\n[ ] Rollout plan defined?\n    Phase 1: Internal (1%)\n    Phase 2: Beta (10%)\n    Phase 3: Gradual (50%)\n    Phase 4: Full (100%)\n\n[ ] Rollback plan?\n    ‚Ä¢ Toggle flag OFF\n    ‚Ä¢ Verify system stable\n    ‚Ä¢ Investigate issues\n\nExample feature flag implementation:\n\n```typescript\n// Backend\nif (await featureFlags.isEnabled('new-feature', user)) {\n  // New feature code\n} else {\n  // Existing behavior\n}\n\n// Frontend\nconst showNewFeature = useFeatureFlag('new-feature');\n```\n\nDeploy without feature flag? (yes/no/add-flag)\n```"
}
