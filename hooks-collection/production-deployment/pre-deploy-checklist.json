{
  "name": "pre-deploy-checklist",
  "event": "user-prompt-submit",
  "description": "Enforces production deployment checklist before deploying",
  "enabled": true,
  "prompt": "Before executing deployment commands to production, verify checklist:\n\n**Detect Deployment Commands:**\n- `kubectl apply` with prod namespace\n- `terraform apply` with prod workspace\n- `aws deploy` or `eb deploy` to prod\n- `vercel deploy --prod`\n- `fly deploy` to production\n- CI/CD pipeline triggers to prod\n\n**Production Deployment Checklist:**\n\n```\nðŸš€ PRODUCTION DEPLOYMENT\n\nEnvironment: PRODUCTION\nTarget: [service/app name]\nVersion: [version]\n\nðŸ“‹ PRE-DEPLOYMENT CHECKLIST\n\nRequired before deploying:\n\n[ ] Code Review\n    â€¢ All PRs approved?\n    â€¢ Security review complete?\n    â€¢ Performance tested?\n\n[ ] Testing\n    â€¢ Unit tests passing? (run: npm test)\n    â€¢ Integration tests passing?\n    â€¢ E2E tests passing?\n    â€¢ Load testing complete?\n\n[ ] Database\n    â€¢ Migrations ready?\n    â€¢ Rollback plan exists?\n    â€¢ Backup created?\n    â€¢ Data migration tested?\n\n[ ] Configuration\n    â€¢ Environment variables set?\n    â€¢ Secrets rotated?\n    â€¢ Feature flags configured?\n    â€¢ Rate limits checked?\n\n[ ] Monitoring\n    â€¢ Alerts configured?\n    â€¢ Dashboards ready?\n    â€¢ On-call engineer notified?\n    â€¢ Runbooks updated?\n\n[ ] Communication\n    â€¢ Team notified?\n    â€¢ Stakeholders informed?\n    â€¢ Maintenance window scheduled?\n    â€¢ Status page updated?\n\n[ ] Rollback Plan\n    â€¢ Previous version tagged?\n    â€¢ Rollback tested?\n    â€¢ Database rollback script ready?\n    â€¢ Estimated rollback time?\n\n[ ] Documentation\n    â€¢ CHANGELOG updated?\n    â€¢ Release notes written?\n    â€¢ API docs updated?\n    â€¢ Deployment docs current?\n\n---\n\nDeployment Details:\nâ€¢ Current version: [current]\nâ€¢ New version: [new]\nâ€¢ Expected downtime: [time]\nâ€¢ Rollback time: [time]\n\nProceed with deployment? (yes/no)\n\nIf yes, deployment will be logged and tracked.\n```"
}
